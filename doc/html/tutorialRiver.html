<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BG_Flood: River flooding tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BG_Flood
   &#160;<span id="projectnumber">0.8</span>
   </div>
   <div id="projectbrief">Documentation (Work-in-progress)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('tutorialRiver.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classRiver.html">River</a> flooding tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The objectif of this tutorial is to explain how to use the code BG_Flood to model river flooding. As the code allows rain on grid, we will look at pluvial and fluvial flooding.</p>
<p>This testcase aims to reproduce the flooding event that occured from the 16 to the 18 of July 2021 (a 1 in 50 years flood event). During this event, the Buller river, passing through the town of Westport, on the West Coast of the South Island of Aotearoa New Zealand, get out of its primary bed and flooded the Westport area.</p>
<p>Before begining this tutoral, the user is expected to have downloaded the windows executable or compiled the sources (version &gt; 0.8).</p>
<h1><a class="anchor" id="autotoc_md32"></a>
Param file</h1>
<p>The interface with BG_flood software is done using only a text file: </p><div class="fragment"><div class="line">BG_param.txt</div>
</div><!-- fragment --><p> (This is the name of the input parameter file by defauls, an other name can be use as first variable when lauching BG_Flood.)</p>
<p>This file consists in a list of key words and inputs, separated by a "=" sign. For a full list of the available key words and a further description of this file, please refere to the [manual]{#Manual}.</p>
<h1><a class="anchor" id="autotoc_md33"></a>
Preparation of the topography/bathymetry (DEM: Digital Elevation Model)</h1>
<p>The DEM, topography or bathymetry file is the only necessary file to be added to BG_param file to run the model. </p><div class="fragment"><div class="line">DEM = Wesport_DEM_8m.nc?z;</div>
</div><!-- fragment --><p><img src="Westport_topo.png" alt="" class="inline" title="bathy"/></p>
<p>Different formats can be used for this file ( ASCII: .asc or NetCDF .nc principally). As Netcdf files can contain different variables, the "?" follows by the name of the variable is needed.</p>
<p>Without further information, the code will run will default values for physical parameters and initialisation, Neumann boundaries and no external forcing:</p>
<p><img src="Shell_output.png" alt="" class="inline" title="shell"/></p>
<p>A result files: "output.nc" is created (here opened with the PyNcView)</p>
<p><img src="outputs.png" alt="" class="inline" title="outputs"/></p>
<p>It contains 2D fields saved regularly in time. It details the blocs information, the time 1D variable, the xx and yy axis and the basic outputs (h,u,v,zb,zs) for a shallow water model (see manual for further description of the variables).</p>
<p>A log file: BG_log.txt (very similaire to the shell outputs) is also created: <img src="log_file.png" alt="" class="inline" title="logfile"/></p>
<h1><a class="anchor" id="autotoc_md34"></a>
Basic fluvial flooding set-up</h1>
<h2><a class="anchor" id="autotoc_md35"></a>
River discharge</h2>
<p>The river are, at this stage, forced by a vertical discharge on a user defined rectagular area: </p><div class="fragment"><div class="line">river = river_discharge_TeKuha2.txt,1490249,1490427,5367640,5367805;</div>
</div><!-- fragment --><p> where the four final numbers are: \( x_1, x_2, y_1, y_2 \), to define the area for the vertical discharge and a text file containing the time-serie of the discharge (first column: time ( \(s\)) from reference time, second column: river discharge in \(m^3s^{-1}\)). <img src="river_discharge.png" alt="" class="inline" title="riverfile"/> This file is from an observed hydrograph, with data save every 5min.</p>
<h2><a class="anchor" id="autotoc_md36"></a>
Timekeeping parameters</h2>
<p>In this code, the time is defined in second, relative to some reference or the start of the simulation by default.</p>
<p>The end of the simulation is prescribed in second as : </p><div class="fragment"><div class="line">endtime = 21600;</div>
</div><!-- fragment --><p>The time steps can't be defined by the used, it will be automatically computed as the more restrictive one in the domain by the solver, using the prescribe CFL (Current Friedrich Limiter) value, \( CFL=0.5000 \) by default.</p>
<p>The simulation begin, by default at \( t=0 (s)\), but this can modify using "totaltime": </p><div class="fragment"><div class="line">totaltime = 3600;</div>
</div><!-- fragment --><p> to begin one hour after the reference time ( used in the forcings for example).</p>
<h2><a class="anchor" id="autotoc_md37"></a>
Outputs</h2>
<h2><a class="anchor" id="autotoc_md38"></a>
Resolution</h2>
<p>=&gt;results</p>
<h1><a class="anchor" id="autotoc_md39"></a>
Completing the set-up</h1>
<h2><a class="anchor" id="autotoc_md40"></a>
Adding boundary conditions</h2>
<p>Presentation </p>
<h3><a class="anchor" id="autotoc_md41"></a>
Tidal forcing</h3>
<h2><a class="anchor" id="autotoc_md42"></a>
Bottom friction</h2>
<p>Attention: Extrapolation outside of the map</p>
<h2><a class="anchor" id="autotoc_md43"></a>
Initialisation</h2>
<h2><a class="anchor" id="autotoc_md44"></a>
Outputs</h2>
<h1><a class="anchor" id="autotoc_md45"></a>
... Adding the rain</h1>
<h2><a class="anchor" id="autotoc_md46"></a>
Rain forcing</h2>
<p>=&gt; through TS or Time-varying maps (nc files) =&gt; Rain only on the part of the domain we are interested in =&gt; AOI or rain maps with masked area</p>
<p>=&gt; results</p>
<h2><a class="anchor" id="autotoc_md47"></a>
Ground infiltration losses (Basic ILCL model)</h2>
<h1><a class="anchor" id="autotoc_md48"></a>
Refining the grid in area of interest</h1>
<h2><a class="anchor" id="autotoc_md49"></a>
More DEMS</h2>
<h2><a class="anchor" id="autotoc_md50"></a>
Map of levels of resolution</h2>
<h2><a class="anchor" id="autotoc_md51"></a>
Adding the variable resolution in the code</h2>
<p>Show adding a second high reso DEM (ALSO add mention of possibility to use path (relative or absolute))</p>
<p>=&gt; quick look at shell outputs</p>
<p>=&gt; results</p>
<p># </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="Tutorials.html">Tutorials</a></li>
    <li class="footer">Generated on Tue Feb 21 2023 11:37:59 for BG_Flood by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
